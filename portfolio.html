<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Ze-Hao Wang</title>
	<meta name="author" content="Salmon" />
	<meta name="account" content="grass0916" />
	<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
	<link rel="stylesheet" type="text/css" href="sources/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="sources/css/portfolio.css">
	<script src="https://unpkg.com/react@latest/dist/react.js"></script>
	<script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
	<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
	<!--
	<script type="text/javascript" src="sources/js/react.min.js"></script>
	<script type="text/javascript" src="sources/js/react-dom.min.js"></script>
	<script type="text/javascript" src="sources/js/babel.min.js"></script>
	-->
</head>
<body>
	<div id="root"></div>
	<script type="text/babel">
		const produtions = [
			{
				name:        "Bounty Workers",
				description: "Description",
				techniques:  "Techniques",
				others:      "Others",
				thumbnail:   "https://images.unsplash.com/photo-1479660656269-197ebb83b540",
			},
			{
				name:        "MMORPG Maker",
				description: "Stardust Script is a HTML5 game engine for MMORPG. Game desingers can use it to create 2.5D game. It consists of map editor, scripts and game server.",
				techniques:  "Techniques",
				others:      {
					github: "https://github.com/grass0916/Stardust-Script",
				},
				thumbnail:   "https://images.unsplash.com/photo-1479659929431-4342107adfc1",
			},
			{
				name:        "fds",
				description: "Description",
				techniques:  "Techniques",
				others:      "Others",
				thumbnail:   "https://images.unsplash.com/photo-1479644025832-60dabb8be2a1",
			},
			{
				name:        "sd",
				description: "Description",
				techniques:  "Techniques",
				others:      "Others",
				thumbnail:   "https://images.unsplash.com/photo-1479621051492-5a6f9bd9e51a",
			}
		];


		class ProductionCard extends React.Component {
			// Initial default data.
			constructor(props) {
				super(props);
				this.state = {
					content: "content-2nd"
				};
				this.handleClick = this.handleClick.bind(this);
			}

			handleClick(contentClassName) {
				this.setState(prevState => ({
					content: contentClassName
				}));
			}

			render() {
				return (
					<div className="card">
						<div className="card-bg" style={{backgroundImage: "url(" + this.props.prodution.thumbnail + ")"}} />
						<div className="card-info">
							<div className="title">{this.props.prodution.name}</div>
							<div className={`content ${this.state.content}`}>
								<div className="techniques"><p>{this.props.prodution.techniques}</p></div>
								<div className="description"><p>{this.props.prodution.description}</p></div>
								<div className="others"><p>{JSON.stringify(this.props.prodution.others)}</p></div>
							</div>
							<div className="switchers">
								<div className="techniques trigger" onClick={() => this.handleClick("content-1st")}></div>
								<div className="description trigger active" onClick={() => this.handleClick("content-2nd")}></div>
								<div className="others trigger" onClick={() => this.handleClick("content-3rd")}></div>
							</div>
						</div>
					</div>
				);
			}
		};

		const productionCards = produtions.map((prodution) => 
			<ProductionCard prodution={prodution} />
		);

		ReactDOM.render(
			<div className="container">{productionCards}</div>,
			document.getElementById('root')
		);
	</script>
</body>
</html>